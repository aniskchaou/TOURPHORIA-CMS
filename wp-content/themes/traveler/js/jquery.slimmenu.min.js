!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.$elem=a(this.element),this.options=a.extend(h,c),this.init()}var f="slimmenu",g=0,h={resizeWidth:"767",initiallyVisible:!1,collapserTitle:"Main Menu",animSpeed:"medium",easingEffect:null,indentChildren:!1,childrenIndenter:"&nbsp;&nbsp;",expandIcon:"<i>&#9660;</i>",collapseIcon:"<i>&#9650;</i>"};e.prototype={init:function(){var c,d=a(b),e=this.options,f=this.$elem,g='<div class="menu-collapser">'+e.collapserTitle+'<div class="collapse-button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div></div>';f.before(g),c=f.prev(".menu-collapser"),f.on("click",".sub-toggle",function(b){b.preventDefault(),b.stopPropagation();var c=a(this).closest("li");a(this).hasClass("expanded")?(a(this).removeClass("expanded").html(e.expandIcon),c.find(">ul").slideUp(e.animSpeed,e.easingEffect)):(a(this).addClass("expanded").html(e.collapseIcon),c.find(">ul").slideDown(e.animSpeed,e.easingEffect))}),c.on("click",".collapse-button",function(a){a.preventDefault(),f.slideToggle(e.animSpeed,e.easingEffect)}),this.resizeMenu(),d.on("resize",this.resizeMenu.bind(this)),d.trigger("resize")},resizeMenu:function(){var c=this,e=a(b),f=e.width(),h=this.options,i=a(this.element),j=a("body").find(".menu-collapser");b.innerWidth!==d&&b.innerWidth>f&&(f=b.innerWidth),f!=g&&(g=f,i.find("li").each(function(){a(this).has("ul").length&&(a(this).addClass("has-submenu").has(".sub-toggle").length?a(this).children(".sub-toggle").html(h.expandIcon):a(this).addClass("has-submenu").append('<span class="sub-toggle">'+h.expandIcon+"</span>")),a(this).children("ul").hide().end().find(".sub-toggle").removeClass("expanded").html(h.expandIcon)}),h.resizeWidth>=f?(h.indentChildren&&i.find("ul").each(function(){var b=a(this).parents("ul").length;a(this).children("li").children("a").has("i").length||a(this).children("li").children("a").prepend(c.indent(b,h))}),i.addClass("collapsed").find("li").has("ul").off("mouseenter mouseleave"),j.show(),h.initiallyVisible||i.hide()):(i.find("li").has("ul").on("mouseenter",function(){a(this).find(">ul").stop().slideDown(h.animSpeed,h.easingEffect)}).on("mouseleave",function(){a(this).find(">ul").stop().slideUp(h.animSpeed,h.easingEffect)}),i.find("li > a > i").remove(),i.removeClass("collapsed").show(),j.hide()))},indent:function(a,b){for(var c=0,d="";a>c;c++)d+=b.childrenIndenter;return"<i>"+d+"</i> "}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);